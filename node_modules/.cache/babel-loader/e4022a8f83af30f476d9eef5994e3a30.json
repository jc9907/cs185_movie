{"ast":null,"code":"var _jsxFileName = \"/home/luyao/Desktop/CS185/my_movie_site/src/components/AddMovie.js\";\nimport React, { useEffect, useState } from 'react';\nimport '../App.css';\nimport config from './config.js';\nimport useForm from './useForm';\nimport { Alert } from 'reactstrap';\n/*\nnode node_modules/reac  t-scripts/scripts/start.js\n\nFix react page doesn't update on file change *WORKS*\nsudo -i\necho 1048576 > /proc/sys/fs/inotify/max_user_watches\nexit\n\n*/\n\nconst firebase = require('firebase');\n\nfunction AddMovie() {\n  const [data, setData] = useState([]);\n  const [shouldRender, setShouldRender] = useState(true);\n  let scrollRef = null; //used to refer scrollRef, so that on content change window is scrolled to bottom automaticallu\n\n  const guestBookStyle = {\n    backgroundColor: '#eadedb',\n    backgroundRepeat: 'repeat-y',\n    position: 'relative',\n    height: '80vh',\n    width: '100%',\n    display: 'flex',\n    //alignItems: 'center',\n    //justifyContent: 'center',\n    fontFamily: 'Raleway, sans-serif',\n    fontStyle: '2px',\n    //textTransform: 'uppercase',\n    letterSpacing: '1px'\n  };\n  const formInputFontStyle = {\n    fontFamily: 'Raleway, sans-serif',\n    fontStyle: '32px',\n    marginBottom: '20px'\n  };\n  const formInputDivStyle = {\n    position: 'relative',\n    fontSize: '12px',\n    left: '10vw',\n    top: '8vh'\n  };\n  const formPrintDivStyle = {\n    position: 'absolute',\n    left: '35vw',\n    top: '8vh',\n    width: '60vw',\n    height: '60vh',\n    border: 'dotted blue',\n    borderWidth: '2px',\n    borderColor: '#2a4944'\n  };\n  const formLabelFontStyle = {\n    fontFamily: 'lucida grande,arial',\n    fontSize: '1vw',\n    fontWeight: 'bold',\n    color: '#2E4A62',\n    position: 'relative',\n    top: '0vw',\n    left: '-1vw'\n  };\n  /*Form Operations*/\n  //destructure event handler and values object from customized hook\n\n  const {\n    handleTextChange,\n    handleSubmit,\n    values,\n    setValues\n  } = useForm(submit); //destructure from customized hook useForm\n  //\"submit\": useForm accepts a callback function name as argument when submit is clicked\n  //\"formValidate\": useForm accepts the validation logics to check user input\n\n  function submit() {\n    console.log(\"submitted successfully.\");\n    setData([]); //clear previous so that data don't duplicate\n    //set everything to default after submission\n\n    setValues({\n      IMDbID: \"\"\n    });\n    firebase.database().ref('data').push().set(values);\n    setVisible(true);\n  }\n\n  const [visible, setVisible] = useState(false);\n\n  const onafterprint = () => setVisible(false);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"GuestBook\",\n    style: guestBookStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: formInputDivStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    style: formLabelFontStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"Guest Name\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"IMDbID\",\n    type: \"IMDbID\",\n    value: values.IMDbID,\n    onChange: handleTextChange,\n    style: formInputFontStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: formInputDivStyle,\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, \"submit\")), /*#__PURE__*/React.createElement(Alert, {\n    style: formInputDivStyle,\n    color: \"info\",\n    isOpen: visible,\n    toggle: onafterprint,\n    fade: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, \"Message sent successfully!\")));\n}\n\nexport default AddMovie;","map":{"version":3,"sources":["/home/luyao/Desktop/CS185/my_movie_site/src/components/AddMovie.js"],"names":["React","useEffect","useState","config","useForm","Alert","firebase","require","AddMovie","data","setData","shouldRender","setShouldRender","scrollRef","guestBookStyle","backgroundColor","backgroundRepeat","position","height","width","display","fontFamily","fontStyle","letterSpacing","formInputFontStyle","marginBottom","formInputDivStyle","fontSize","left","top","formPrintDivStyle","border","borderWidth","borderColor","formLabelFontStyle","fontWeight","color","handleTextChange","handleSubmit","values","setValues","submit","console","log","IMDbID","database","ref","push","set","setVisible","visible","onafterprint"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport '../App.css'\nimport config from './config.js'\nimport useForm from './useForm'\n\nimport { Alert } from 'reactstrap';\n\n/*\nnode node_modules/reac  t-scripts/scripts/start.js\n\nFix react page doesn't update on file change *WORKS*\nsudo -i\necho 1048576 > /proc/sys/fs/inotify/max_user_watches\nexit\n\n*/\nconst firebase = require('firebase')\n\nfunction AddMovie(){\n    const [data,setData] = useState([])\n    const [shouldRender , setShouldRender] = useState(true)\n    \n\n    let scrollRef = null; //used to refer scrollRef, so that on content change window is scrolled to bottom automaticallu\n\n\n    const guestBookStyle={\n       \n        backgroundColor: '#eadedb',\n        backgroundRepeat: 'repeat-y',\n        position: 'relative',\n        height: '80vh',\n        width: '100%',\n        display: 'flex',\n        //alignItems: 'center',\n        //justifyContent: 'center',\n        fontFamily: 'Raleway, sans-serif',\n        fontStyle: '2px', \n        //textTransform: 'uppercase',\n        letterSpacing: '1px'\n    }\n    const formInputFontStyle={\n      fontFamily: 'Raleway, sans-serif',\n      fontStyle: '32px', \n      marginBottom: '20px',\n    }\n\n    const formInputDivStyle={\n      position: 'relative',\n      fontSize: '12px',\n      left:'10vw',\n      top: '8vh'\n    }\n\n    const formPrintDivStyle={\n      position: 'absolute',\n      left:'35vw',\n      top: '8vh',\n      width: '60vw',\n      height: '60vh',\n      border: 'dotted blue',\n      borderWidth: '2px',\n      borderColor: '#2a4944',\n    }\n\n    const formLabelFontStyle={\n      fontFamily: 'lucida grande,arial',\n      fontSize: '1vw',\n      fontWeight: 'bold',\n      color: '#2E4A62',\n      position: 'relative',\n      top: '0vw',\n      left:'-1vw'\n    }\n   \n    \n\n\n        \n    /*Form Operations*/\n    //destructure event handler and values object from customized hook\n    const {handleTextChange,handleSubmit, values, setValues} = useForm(submit); //destructure from customized hook useForm\n                                                                  //\"submit\": useForm accepts a callback function name as argument when submit is clicked\n                                                                  //\"formValidate\": useForm accepts the validation logics to check user input\n  \n\n    function submit(){\n      console.log(\"submitted successfully.\")\n\n      setData([]) //clear previous so that data don't duplicate\n  \n      //set everything to default after submission\n      setValues({IMDbID:\"\"}) \n    \n      firebase.database().ref('data').push().set(values);\n      setVisible(true);\n    }\n\n    const [visible, setVisible] = useState(false);\n    const onafterprint = () => setVisible(false);\n\nreturn(\n    <div className=\"GuestBook\" style={guestBookStyle}>\n        <form onSubmit={handleSubmit} noValidate>\n        \n          <div style={formInputDivStyle}> \n            <label style={formLabelFontStyle}>Guest Name</label>\n            <br/>\n            <input name=\"IMDbID\" type=\"IMDbID\" value={values.IMDbID} onChange={handleTextChange} style={formInputFontStyle}/>\n          </div>\n          \n  \n          <div style={formInputDivStyle} onClick={handleSubmit} >\n            <button type=\"submit\">submit</button>\n          </div>\n\n          \n          <Alert style={formInputDivStyle} color=\"info\" isOpen={visible} toggle={onafterprint} fade={true} >\n            Message sent successfully!\n          </Alert>\n        </form>\n        \n    </div>\n)\n\n\n}\n\nexport default AddMovie;"]},"metadata":{},"sourceType":"module"}