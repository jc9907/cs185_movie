(this.webpackJsonpmy_movie_site=this.webpackJsonpmy_movie_site||[]).push([[0],{116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(7),l=a.n(o),r=a(8),c=a(9),s=a(12),p=a(11),u=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).addStyling=function(){return e.props.tab.id===e.props.activeTab?{backgroundColor:"gray",color:"white"}:{backgroundColor:"white"}},e}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"Tab",style:this.addStyling(),onClick:this.props.changeTab.bind(this,this.props.tab.id)},i.a.createElement("font",{className:"each-tab"},this.props.tab.title),i.a.createElement("h1",null))}}]),a}(n.Component),v=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return this.props.tabs.map((function(t){return i.a.createElement(u,{tab:t,activeTab:e.props.activeTab,changeTab:e.props.changeTab})}))}}]),a}(n.Component),m=(a(37),n.Component,a(18)),d=a(36),h=a(26),f=a(45),b=a.n(f),g=a(149),y=a(144),E=a(147),O=a(65),w=a.n(O);var D=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={movieData:{},open:!1},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://www.omdbapi.com/?apikey=cab6a2b3&i=".concat(this.props.movieid,"&plot=full")).then((function(e){return e.data})).then((function(t){e.setState({movieData:t})}))}},{key:"render",value:function(){var e=this;return this.state.movieData.Poster&&"N/A"!==this.state.movieData?i.a.createElement(g.a,{key:this.props.indexKey,cols:1,rows:2},i.a.createElement("img",{src:this.state.movieData.Poster,alt:this.state.movieData.Title}),i.a.createElement(y.a,{title:this.state.movieData.Title,titlePosition:"top",actionIcon:i.a.createElement(E.a,{"aria-label":"info ".concat(this.state.movieData.Title),style:{color:"white"},onClick:function(){e.props.changeIndexKey(e.props.indexKey),e.props.setOpen(!0),e.props.changeMoviePoster(e.state.movieData)}},i.a.createElement(w.a,null)),actionPosition:"left",className:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)",width:"100%",height:"100%"}})):null}}]),a}(n.Component),j=a(145),S=a(146),k=a(66),I=a.n(k),M=a(30),T=a.n(M).a.initializeApp({apiKey:"AIzaSyACJ8-913EpzdE7eFQdAJvDLwhwWZL9-Ic",authDomain:"cs185-react-6ffac.firebaseapp.com",databaseURL:"https://cs185-react-6ffac.firebaseio.com",projectId:"cs185-react-6ffac",storageBucket:"cs185-react-6ffac.appspot.com",messagingSenderId:"751577762405",appId:"1:751577762405:web:07c30947f637efd9e7d48c"});var C=a(30),A=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={moviePoster:"",open:!1,key:1,isOpen:!1,toggle:0,visible:8,movies_list:[],perf_listSelection:[],listShown:[],movie_perf_pairs:[]},e.changeMoviePoster=function(t){e.setState({moviePoster:t})},e.changeKey=function(t){e.setState({key:t})},e.setOpen=function(t){e.setState({open:t})},e.loadmore=e.loadmore.bind(Object(h.a)(e)),e.listSelectOnChange=e.listSelectOnChange.bind(Object(h.a)(e)),e.ModalDropOptions=e.ModalDropOptions.bind(Object(h.a)(e)),e.perf_list=[],C.apps.length||C.initializeApp(T),e}return Object(c.a)(a,[{key:"loadmore",value:function(){this.setState((function(e){return{visible:e.visible+8}}))}},{key:"componentWillMount",value:function(){var e=this;C.apps.length||C.initializeApp(T);var t=C.database().ref("AllLists"),a=t.child("All"),n=[];a.on("value",(function(t){t.val();t.forEach((function(e){var t=e.child("IMDbID").val(),a=e.child("Title").val(),i=e.child("Director").val(),o=e.child("Rating").val(),l=e.child("PosterURL").val(),r=e.child("Actors").val(),c=e.child("Genre").val(),s=e.child("IMDbID").val();n.push({key:s,IMDbID:t,Title:a,PosterURL:l,Director:i,Actors:r,Genre:c,Rating:o})})),e.setState({movies_list:[].concat(Object(d.a)(e.state.movies_list),n)})}));var i=[];t.on("value",(function(t){t.val();t.forEach((function(e,t){i.push(e.key)})),e.setState({perf_listSelection:[].concat(Object(d.a)(e.state.perf_listSelection),i)})}));var o=[],l=[];t.on("value",(function(t){t.val();t.forEach((function(e,t){e.forEach((function(e){var t=e.child("IMDbID").val(),a=e.child("Title").val(),n=e.child("Director").val(),i=e.child("Rating").val(),o=e.child("PosterURL").val(),r=e.child("Actors").val(),c=e.child("Genre").val(),s=e.child("IMDbID").val();l.push({key:s,IMDbID:t,Title:a,PosterURL:o,Director:n,Actors:r,Genre:c,Rating:i})}))})),o.push(l),e.perf_list=o,e.forceUpdate(),e.setState({listShown:Object(d.a)(e.perf_list[0])})})),this.forceUpdate();t.on("value",(function(t){t.val();t.child("movie_perf_pairs").forEach((function(e,t){e.child("IMDbID").val();e.child("perfs").forEach((function(e,t){console.log(e.val())}))})),o.push(l),e.perf_list=o,e.forceUpdate(),e.setState({listShown:Object(d.a)(e.perf_list[0])})})),this.forceUpdate()}},{key:"listSelectOnChange",value:function(e){this.setState(Object(m.a)({},this.state.active_list,this.state.perf_listSelection[e.target.index]))}},{key:"ModalDropOptions",value:function(e){this.state.perf_listSelection.map((function(e,t){return i.a.createElement("option",{key:t,value:e.value},e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{display:"block"}},i.a.createElement("div",null,"Select List",i.a.createElement("select",{name:"perf_listSelection",onChange:this.listSelectOnChange},this.state.perf_listSelection.map((function(e,t){return i.a.createElement("option",{key:t,value:e.value},e)})))),i.a.createElement("div",null,this.state.movies_list.map((function(e,t){return i.a.createElement("h6",null,e.Title)}))),i.a.createElement("div",null,i.a.createElement(j.a,{cellHeight:150,spacing:1,style:{width:"95%",height:"85vh",transform:"translateZ(0)"}},this.state.movies_list.map((function(t){return i.a.createElement(D,{movieid:t.IMDbID,indexKey:t.key,changeIndexKey:e.changeKey,setOpen:e.setOpen,changeMoviePoster:e.changeMoviePoster})}))),i.a.createElement(S.a,{open:this.state.open,onClose:function(){e.setOpen(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},i.a.createElement("div",{style:{top:"20%",left:"20%",backgroundColor:"transparent",position:"absolute",display:"flex"}},i.a.createElement("div",{style:{width:"auto",height:"auto",justifyContent:"center",textAlign:"center",paddingTop:"23%",paddingLeft:"10px",paddingRight:"10px",lineHeight:"200%",backgroundColor:"#c3cfe2"}},i.a.createElement("h7",null,"Title: ",this.state.moviePoster.Title," ",i.a.createElement("br",null),"Director: ",this.state.moviePoster.Director," ",i.a.createElement("br",null),"Genre: ",this.state.moviePoster.Genre,i.a.createElement("br",null),"IMDB Rating: ",this.state.moviePoster.imdbRating),i.a.createElement("div",null,i.a.createElement("select",{name:"perf_listSelection"},this.ModalDropOptions))),i.a.createElement("img",{src:this.state.moviePoster.Poster,height:"auto",alt:"poster"}),i.a.createElement(E.a,{onClick:function(){e.state.key;var t=[];e.state.movies_list.forEach((function(a,n){a.key!=e.state.key&&t.push(a)})),e.setState({movies_list:[]}),e.setState({movies_list:[].concat(t)}),e.setOpen(!1)}},i.a.createElement(I.a,{style:{color:"white"}})))),i.a.createElement("button",{type:"button",onClick:this.loadmore,style:{position:"relative",alignItems:"center"}},"Load More")))}}]),a}(n.Component),_=a(17),x=(a(46),a(148)),P=a(30);var R=function(){var e=Object(n.useState)(!0),t=Object(_.a)(e,2),o=(t[0],t[1],{position:"relative",fontSize:"12px",left:"10vw",top:"8vh"});Object(n.useEffect)((function(){P.apps.length||P.initializeApp(T)}));var l=Object(n.useState)([]),r=Object(_.a)(l,2),c=(r[0],r[1],Object(n.useState)({newMovieID:""})),s=Object(_.a)(c,2),p=s[0],u=s[1],v=function(e){console.log("enter submit callback for adding a new movie"),e.preventDefault(),console.log("At submission, values.newMovieID is: "+p.newMovieID);var t=!1;if(P.database().ref("AllLists").child("All").on("value",(function(e){var a=e.val();console.log(a),e.forEach((function(e){e.child("IMDbID").val()==p.newMovieID&&(t=!0)}))})),t?console.log("\u274cMovie already in database, not added"):console.log("\u2705 Movie not in database, now add"),!t){var n,i,o,l,r,c,s,v=a(45).default,m="https://www.omdbapi.com/?apikey=16e23e6c&i="+p.newMovieID;v.get(m);v.get(m).then((function(e){n=e.data,i=n.Title,o=n.Director,l=n.imdbRating,r=n.Poster,c=n.Actors,s=n.Genre})).then((function(){console.log("recvTitle is: "+i),console.log("recvDirector is: "+o),console.log("recvRating is: "+l),console.log("recvPosterURL is: "+r),console.log("recvActors is: "+c),console.log("recvGenre is: "+s),P.database().ref("AllLists").child("All").push({IMDbID:p.newMovieID,Title:i,PosterURL:r,Director:o,Actors:c,Genre:s,Rating:l})}))}b(!0),u({newMovieID:""})},d=Object(n.useState)(!1),h=Object(_.a)(d,2),f=h[0],b=h[1];return i.a.createElement("div",{style:{backgroundColor:"#eadedb",backgroundRepeat:"repeat-y",position:"relative",height:"80vh",width:"100%",display:"flex",fontFamily:"Raleway, sans-serif",fontStyle:"2px",letterSpacing:"1px"}},i.a.createElement("form",{onSubmit:v,noValidate:!0},i.a.createElement("div",{style:o},i.a.createElement("label",{style:{fontFamily:"lucida grande,arial",fontSize:"1vw",fontWeight:"bold",color:"#2E4A62",position:"relative",top:"0vw",left:"-1vw"}},"IMDBid"),i.a.createElement("br",null),i.a.createElement("input",{name:"newMovieID",type:"newMovieID",value:p.newMovieID,onChange:function(e){console.log(e.target.name,"new movie is:"+e.target.value),console.log("event.target.name is:"+e.target.name),u(Object(m.a)({},e.target.name,e.target.value)),console.log("values.newMovieID"+p.newMovieID)},style:{fontFamily:"Raleway, sans-serif",fontStyle:"32px",marginBottom:"20px"}})),i.a.createElement("div",{style:o,onClick:v},i.a.createElement("button",{type:"submit"},"submit")),i.a.createElement(x.a,{style:o,color:"info",isOpen:f,toggle:function(){return b(!1)},fade:!0},"Add request sent!")))},L=a(30);var z=function(){var e={position:"relative",fontSize:"12px",left:"10vw",top:"8vh"};Object(n.useEffect)((function(){L.apps.length||L.initializeApp(T)}));var t=Object(n.useState)({newlist:""}),a=Object(_.a)(t,2),o=a[0],l=a[1],r=function(e){console.log("enter submit callback"),e.preventDefault(),console.log("values.newlist is: "+o.newlist),L.database().ref("AllLists").child(o.newlist).set(""),u(!0),l({newlist:""})},c=Object(n.useState)(!1),s=Object(_.a)(c,2),p=s[0],u=s[1];return i.a.createElement("div",{className:"CreateList",style:{backgroundColor:"white",backgroundRepeat:"repeat-y",position:"relative",height:"80vh",width:"100%",display:"flex",fontFamily:"Raleway, sans-serif",fontStyle:"2px",letterSpacing:"1px"}},i.a.createElement("form",{onSubmit:r,noValidate:!0},i.a.createElement("div",{style:e},i.a.createElement("label",{style:{fontFamily:"lucida grande,arial",fontSize:"1vw",fontWeight:"bold",color:"black",position:"relative",top:"0vw",left:"-1vw"}},"List Name"),i.a.createElement("br",null),i.a.createElement("input",{name:"newlist",type:"newlist",value:o.newlist,onChange:function(e){console.log(e.target.name,"newlist is:"+e.target.value),l(Object(m.a)({},e.target.name,e.target.value))},style:{fontFamily:"Raleway, sans-serif",fontStyle:"32px",marginBottom:"20px"}})),i.a.createElement("div",{style:e,onClick:r},i.a.createElement("button",{type:"submit"},"submit")),i.a.createElement(x.a,{style:e,color:"info",isOpen:p,toggle:function(){return u(!1)},fade:!0},"The list is now added!")))},U=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).displayContent=function(){var t=e.props.activeTab;return console.log("Body.js: activeTab is",e.props.activeTab),1===t?i.a.createElement(A,null):2===t?i.a.createElement(R,null):3===t?i.a.createElement(z,null):i.a.createElement(A,null)},e}return Object(c.a)(a,[{key:"render",value:function(){return this.displayContent()}}]),a}(n.Component),G=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={activeTab:1},e.changeTab=function(t){e.setState({activeTab:t}),console.log("App.js: id is %d",t)},e}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"body"},i.a.createElement("div",{className:"nav-bar"},i.a.createElement(v,{tabs:[{id:1,title:"Movies"},{id:2,title:"Add Movies"},{id:3,title:"Create List"}],activeTab:this.state.activeTab,changeTab:this.changeTab})),i.a.createElement("div",{className:"main-body"},i.a.createElement(U,{activeTab:this.state.activeTab})))}}]),a}(n.Component);a(116);l.a.render(i.a.createElement(G,null),document.getElementById("root"))},37:function(e,t,a){},70:function(e,t,a){e.exports=a(117)}},[[70,1,2]]]);
//# sourceMappingURL=main.27ca5a26.chunk.js.map